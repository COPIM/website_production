!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.shuffle=t()}(this,function(){"use strict";function z(e,t){if(w)return w.call(e,t);for(var s=e.parentNode.querySelectorAll(t),n=0;n<s.length;n++)if(s[n]==e)return!0;return!1}function U(){for(var e,n,s={},t=0;t<arguments.length;t++){e=arguments[t];for(n in e)P.call(e,n)&&(s[n]=e[n])}return s}function V(e,t){function i(){o=0,r=+new Date,a=e.apply(n,s),n=null,s=null}var n,s,o,a,r=0;return function(){n=this,s=arguments;var e=new Date-r;return o||(e>=t?i():o=setTimeout(i,t-e)),a}}function B(){}function n(e){return parseFloat(e)||0}function o(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.getComputedStyle(e,null),o=n(s[t]);return m||"width"!==t?m||"height"!==t||(o+=n(s.paddingTop)+n(s.paddingBottom)+n(s.borderTopWidth)+n(s.borderBottomWidth)):o+=n(s.paddingLeft)+n(s.paddingRight)+n(s.borderLeftWidth)+n(s.borderRightWidth),o}function H(e){for(t=e.length;t;){t-=1;var t,n=Math.floor(Math.random()*(t+1)),s=e[n];e[n]=e[t],e[t]=s}return e}function d(e,t){var n=l(I,t),o=[].slice.call(e),s=!1;return e.length?n.randomize?H(e):("function"==typeof n.by&&e.sort(function(e,t){if(s)return 0;var o=n.by(e[n.key]),i=n.by(t[n.key]);return void 0===o&&void 0===i?(s=!0,0):o<i||"sortFirst"===o||"sortLast"===i?-1:o>i||"sortLast"===o||"sortFirst"===i?1:0}),s?o:(n.reverse&&e.reverse(),e)):[]}function R(){return O+=1,g+O}function x(e){return!!r[e]&&(r[e].element.removeEventListener(g,r[e].listener),r[e]=null,!0)}function N(e,t){var n=R(),s=function(e){e.currentTarget===e.target&&(x(n),t(e))};return e.addEventListener(g,s),r[n]={element:e,listener:s},n}function j(e){return Math.max.apply(Math,e)}function T(e){return Math.min.apply(Math,e)}function A(e,t,n,s){var o=e/t;return Math.abs(Math.round(o)-o)<s&&(o=Math.round(o)),Math.min(Math.ceil(o),n)}function S(e,t,n){if(1===t)return e;for(var o=[],s=0;s<=n-t;s++)o.push(j(e.slice(s,s+t)));return o}function E(e,t){for(var s=T(e),n=0,o=e.length;n<o;n++)if(e[n]>=s-t&&e[n]<=s+t)return n;return 0}function W(e){for(var o=e.itemSize,i=e.positions,a=e.gridSize,r=e.total,d=e.threshold,u=e.buffer,l=A(o.width,a,r,d),n=S(i,l,r),t=E(n,u),h=new c(Math.round(a*t),Math.round(n[t])),m=n[t]+o.height,s=0;s<l;s++)i[t+s]=m;return h}function M(e){return Array.prototype.slice.call(e)}function b(e,t){return e.indexOf(t)>-1}try{if(u=new window.CustomEvent("test"),u.preventDefault(),!0!==u.defaultPrevented)throw new Error("Could not prevent default")}catch{v=function(e,t){var n,s;return t=t||{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),s=n.preventDefault,n.preventDefault=function(){s.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch{this.defaultPrevented=!0}},n},v.prototype=window.Event.prototype,window.CustomEvent=v}var a,u,h,m,v,y,i=Element.prototype,w=i.matches||i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector,$=z,F="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},C=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e){function t(e){for(var n=[],t=0;t<e.length;t++)-1===n.indexOf(e[t])&&n.push(e[t]);return n}function n(e){var t=new Set;return e.filter(function(e){return!t.has(e)&&(t.add(e),!0)})}function s(e){var t=[];return new Set(e).forEach(function(e){t.push(e)}),t}"Set"in F?"function"==typeof Set.prototype.forEach&&function(){var e=!1;return new Set([!0]).forEach(function(t){e=t}),!0===e}()?e.exports=s:e.exports=n:e.exports=t}),l=U,P=Object.prototype.hasOwnProperty,L=V,D=function(e,t,n){function i(e){return function(t,i){if(!a){if(t)return n(t,o),void(a=!0);o[e]=i,--s||n(null,o)}}}if(n||("function"==typeof t?(n=t,t=null):n=B),s=e&&e.length,!s)return n(null,[]);var s,a=!1,o=new Array(s);e.forEach(t?function(e,n){e.call(t,i(n))}:function(e,t){e(i(t))})},p=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},f=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),c=function(){function e(t,s){p(this,e),this.x=n(t),this.y=n(s)}return f(e,null,[{key:"equals",value:function(e,t){return e.x===t.x&&e.y===t.y}}]),e}(),s={BASE:"shuffle",SHUFFLE_ITEM:"shuffle-item",VISIBLE:"shuffle-item--visible",HIDDEN:"shuffle-item--hidden"},k=0,e=function(){function e(t){p(this,e),k+=1,this.id=k,this.element=t,this.isVisible=!0}return f(e,[{key:"show",value:function(){this.isVisible=!0,this.element.classList.remove(s.HIDDEN),this.element.classList.add(s.VISIBLE)}},{key:"hide",value:function(){this.isVisible=!1,this.element.classList.remove(s.VISIBLE),this.element.classList.add(s.HIDDEN)}},{key:"init",value:function(){this.addClasses([s.SHUFFLE_ITEM,s.VISIBLE]),this.applyCss(e.Css.INITIAL),this.scale=e.Scale.VISIBLE,this.point=new c}},{key:"addClasses",value:function(e){var t=this;e.forEach(function(e){t.element.classList.add(e)})}},{key:"removeClasses",value:function(e){var t=this;e.forEach(function(e){t.element.classList.remove(e)})}},{key:"applyCss",value:function(e){var t=this;Object.keys(e).forEach(function(n){t.element.style[n]=e[n]})}},{key:"dispose",value:function(){this.removeClasses([s.HIDDEN,s.VISIBLE,s.SHUFFLE_ITEM]),this.element.removeAttribute("style"),this.element=null}}]),e}();e.Css={INITIAL:{position:"absolute",top:0,left:0,visibility:"visible","will-change":"transform"},VISIBLE:{before:{opacity:1,visibility:"visible"},after:{}},HIDDEN:{before:{opacity:0},after:{visibility:"hidden"}}},e.Scale={VISIBLE:1,HIDDEN:.001},h=document.body||document.documentElement,a=document.createElement("div"),a.style.cssText="width:10px;padding:2px;box-sizing:border-box;",h.appendChild(a),y=window.getComputedStyle(a,null).width,m="10px"===y,h.removeChild(a);var I={reverse:!1,by:null,randomize:!1,key:"element"},r={},g="transitionend",O=0,_=0,t=function(){function t(e){var n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(p(this,t),this.options=l(t.options,s),this.useSizer=!1,this.lastSort={},this.group=t.ALL_ITEMS,this.lastFilter=t.ALL_ITEMS,this.isEnabled=!0,this.isDestroyed=!1,this.isInitialized=!1,this._transitions=[],this.isTransitioning=!1,this._queue=[],n=this._getElementOption(e),!n)throw new TypeError("Shuffle needs to be initialized with an element.");this.element=n,this.id="shuffle_"+_,_+=1,this._init(),this.isInitialized=!0}return f(t,[{key:"_init",value:function(){this.items=this._getItems(),this.options.sizer=this._getElementOption(this.options.sizer),this.options.sizer&&(this.useSizer=!0),this.element.classList.add(t.Classes.BASE),this._initItems(),this._onResize=this._getResizeFunction(),window.addEventListener("resize",this._onResize);var e=window.getComputedStyle(this.element,null),n=t.getSize(this.element).width;this._validateStyles(e),this._setColumns(n),this.filter(this.options.group,this.options.initialSort),this.element.offsetWidth,this._setTransitions(),this.element.style.transition="height "+this.options.speed+"ms "+this.options.easing}},{key:"_getResizeFunction",value:function(){var e=this._handleResize.bind(this);return this.options.throttle?this.options.throttle(e,this.options.throttleTime):e}},{key:"_getElementOption",value:function(e){return"string"==typeof e?this.element.querySelector(e):e&&e.nodeType&&1===e.nodeType?e:e&&e.jquery?e[0]:null}},{key:"_validateStyles",value:function(e){"static"===e.position&&(this.element.style.position="relative"),"hidden"!==e.overflow&&(this.element.style.overflow="hidden")}},{key:"_filter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lastFilter,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.items,t=this._getFilteredSets(e,n);return this._toggleFilterClasses(t),this.lastFilter=e,"string"==typeof e&&(this.group=e),t}},{key:"_getFilteredSets",value:function(e,n){var i=this,s=[],o=[];return e===t.ALL_ITEMS?s=n:n.forEach(function(t){i._doesPassFilter(e,t.element)?s.push(t):o.push(t)}),{visible:s,hidden:o}}},{key:"_doesPassFilter",value:function(e,n){function s(e){return b(i,e)}if("function"==typeof e)return e.call(n,n,this);var o=n.getAttribute("data-"+t.FILTER_ATTRIBUTE_KEY),i=this.options.delimeter?o.split(this.options.delimeter):JSON.parse(o);return Array.isArray(e)?this.options.filterMode===t.FilterMode.ANY?e.some(s):e.every(s):b(i,e)}},{key:"_toggleFilterClasses",value:function(e){var t=e.visible,n=e.hidden;t.forEach(function(e){e.show()}),n.forEach(function(e){e.hide()})}},{key:"_initItems",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items).forEach(function(e){e.init()})}},{key:"_disposeItems",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items).forEach(function(e){e.dispose()})}},{key:"_updateItemCount",value:function(){this.visibleItems=this._getFilteredItems().length}},{key:"_setTransitions",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items,e=this.options.speed,t=this.options.easing,s=this.options.useTransforms?"transform "+e+"ms "+t+", opacity "+e+"ms "+t:"top "+e+"ms "+t+", left "+e+"ms "+t+", opacity "+e+"ms "+t;n.forEach(function(e){e.element.style.transition=s})}},{key:"_getItems",value:function(){var t=this;return M(this.element.children).filter(function(e){return $(e,t.options.itemSelector)}).map(function(t){return new e(t)})}},{key:"_updateItemsOrder",value:function(){var e=this.element.children;this.items=d(this.items,{by:function(t){return Array.prototype.indexOf.call(e,t)}})}},{key:"_getFilteredItems",value:function(){return this.items.filter(function(e){return e.isVisible})}},{key:"_getConcealedItems",value:function(){return this.items.filter(function(e){return!e.isVisible})}},{key:"_getColumnSize",value:function(e,n){var s=void 0;return s="function"==typeof this.options.columnWidth?this.options.columnWidth(e):this.useSizer?t.getSize(this.options.sizer).width:this.options.columnWidth?this.options.columnWidth:this.items.length>0?t.getSize(this.items[0].element,!0).width:e,0===s&&(s=e),s+n}},{key:"_getGutterSize",value:function(e){return"function"==typeof this.options.gutterWidth?this.options.gutterWidth(e):this.useSizer?o(this.options.sizer,"marginLeft"):this.options.gutterWidth}},{key:"_setColumns",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getSize(this.element).width,s=this._getGutterSize(n),o=this._getColumnSize(n,s),e=(n+s)/o;Math.abs(Math.round(e)-e)<this.options.columnThreshold&&(e=Math.round(e)),this.cols=Math.max(Math.floor(e),1),this.containerWidth=n,this.colWidth=o}},{key:"_setContainerSize",value:function(){this.element.style.height=this._getContainerSize()+"px"}},{key:"_getContainerSize",value:function(){return j(this.positions)}},{key:"_getStaggerAmount",value:function(e){return Math.min(e*this.options.staggerAmount,this.options.staggerAmountMax)}},{key:"_dispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!this.isDestroyed&&(t.shuffle=this,!this.element.dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:!1,detail:t})))}},{key:"_resetCols",value:function(){var e=this.cols;for(this.positions=[];e;)e-=1,this.positions.push(0)}},{key:"_layout",value:function(n){var s=this,o=0;n.forEach(function(n){function a(){n.element.style.transitionDelay="",n.applyCss(e.Css.VISIBLE.after)}var i,d=n.point,u=n.scale,h=t.getSize(n.element,!0),r=s._getItemPosition(h);if(c.equals(d,r)&&u===e.Scale.VISIBLE)return n.applyCss(e.Css.VISIBLE.before),void a();n.point=r,n.scale=e.Scale.VISIBLE,i=l(e.Css.VISIBLE.before),i.transitionDelay=s._getStaggerAmount(o)+"ms",s._queue.push({item:n,styles:i,callback:a}),o+=1})}},{key:"_getItemPosition",value:function(e){return W({itemSize:e,positions:this.positions,gridSize:this.colWidth,total:this.cols,threshold:this.options.columnThreshold,buffer:this.options.buffer})}},{key:"_shrink",value:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getConcealedItems(),n=0;s.forEach(function(s){function o(){s.applyCss(e.Css.HIDDEN.after)}if(s.scale===e.Scale.HIDDEN)return s.applyCss(e.Css.HIDDEN.before),void o();s.scale=e.Scale.HIDDEN;var i=l(e.Css.HIDDEN.before);i.transitionDelay=t._getStaggerAmount(n)+"ms",t._queue.push({item:s,styles:i,callback:o}),n+=1})}},{key:"_handleResize",value:function(){this.isEnabled&&!this.isDestroyed&&t.getSize(this.element).width!==this.containerWidth&&this.update()}},{key:"_getStylesForTransition",value:function(e){var s,o,n=e.item,t=e.styles;return t.transitionDelay||(t.transitionDelay="0ms"),s=n.point.x,o=n.point.y,this.options.useTransforms?t.transform="translate("+s+"px, "+o+"px) scale("+n.scale+")":(t.left=s+"px",t.top=o+"px"),t}},{key:"_whenTransitionDone",value:function(e,t,n){var s=N(e,function(e){t(),n(null,e)});this._transitions.push(s)}},{key:"_getTransitionFunction",value:function(e){var t=this;return function(n){e.item.applyCss(t._getStylesForTransition(e)),t._whenTransitionDone(e.item.element,e.callback,n)}}},{key:"_processQueue",value:function(){this.isTransitioning&&this._cancelMovement();var t=this.options.speed>0,e=this._queue.length>0;e&&t&&this.isInitialized?this._startTransitions(this._queue):e?(this._styleImmediately(this._queue),this._dispatchLayout()):this._dispatchLayout(),this._queue.length=0}},{key:"_startTransitions",value:function(e){var t,n=this;this.isTransitioning=!0,t=e.map(function(e){return n._getTransitionFunction(e)}),D(t,this._movementFinished.bind(this))}},{key:"_cancelMovement",value:function(){this._transitions.forEach(x),this._transitions.length=0,this.isTransitioning=!1}},{key:"_styleImmediately",value:function(e){var n,s=this;e.length&&(n=e.map(function(e){return e.item.element}),t._skipTransitions(n,function(){e.forEach(function(e){e.item.applyCss(s._getStylesForTransition(e)),e.callback()})}))}},{key:"_movementFinished",value:function(){this._transitions.length=0,this.isTransitioning=!1,this._dispatchLayout()}},{key:"_dispatchLayout",value:function(){this._dispatch(t.EventType.LAYOUT)}},{key:"filter",value:function(e,n){this.isEnabled&&((!e||e&&0===e.length)&&(e=t.ALL_ITEMS),this._filter(e),this._shrink(),this._updateItemCount(),this.sort(n))}},{key:"sort",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lastSort;this.isEnabled&&(this._resetCols(),e=this._getFilteredItems(),e=d(e,t),this._layout(e),this._processQueue(),this._setContainerSize(),this.lastSort=t)}},{key:"update",value:function(e){this.isEnabled&&(e||this._setColumns(),this.sort())}},{key:"layout",value:function(){this.update(!0)}},{key:"add",value:function(t){var n=C(t).map(function(t){return new e(t)});this._initItems(n),this._setTransitions(n),this.items=this.items.concat(n),this._updateItemsOrder(),this.filter(this.lastFilter)}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"enable",value:function(e){this.isEnabled=!0,!1!==e&&this.update()}},{key:"remove",value:function(e){if(n=this,e.length){var n,o=C(e),s=o.map(function(e){return n.getItemByElement(e)}).filter(function(e){return!!e}),i=function e(){n.element.removeEventListener(t.EventType.LAYOUT,e),n._disposeItems(s),o.forEach(function(e){e.parentNode.removeChild(e)}),n._dispatch(t.EventType.REMOVED,{collection:o})};this._toggleFilterClasses({visible:[],hidden:s}),this._shrink(s),this.sort(),this.items=this.items.filter(function(e){return!b(s,e)}),this._updateItemCount(),this.element.addEventListener(t.EventType.LAYOUT,i)}}},{key:"getItemByElement",value:function(e){for(var t=this.items.length-1;t>=0;t--)if(this.items[t].element===e)return this.items[t];return null}},{key:"destroy",value:function(){this._cancelMovement(),window.removeEventListener("resize",this._onResize),this.element.classList.remove("shuffle"),this.element.removeAttribute("style"),this._disposeItems(),this.items=null,this.options.sizer=null,this.element=null,this._transitions=null,this.isDestroyed=!0}}],[{key:"getSize",value:function(e,t){var n=window.getComputedStyle(e,null),s=o(e,"width",n),i=o(e,"height",n);if(t){var a=o(e,"marginLeft",n),r=o(e,"marginRight",n),c=o(e,"marginTop",n),l=o(e,"marginBottom",n);s+=a+r,i+=c+l}return{width:s,height:i}}},{key:"_skipTransitions",value:function(e,t){var n=e.map(function(e){var t=e.style,n=t.transitionDuration,s=t.transitionDelay;return t.transitionDuration="0ms",t.transitionDelay="0ms",{duration:n,delay:s}});t(),e[0].offsetWidth,e.forEach(function(e,t){e.style.transitionDuration=n[t].duration,e.style.transitionDelay=n[t].delay})}}]),t}();return t.ShuffleItem=e,t.ALL_ITEMS="all",t.FILTER_ATTRIBUTE_KEY="groups",t.EventType={LAYOUT:"shuffle:layout",REMOVED:"shuffle:removed"},t.Classes=s,t.FilterMode={ANY:"any",ALL:"all"},t.options={group:t.ALL_ITEMS,speed:250,easing:"ease",itemSelector:"*",sizer:null,gutterWidth:0,columnWidth:0,delimeter:null,buffer:0,columnThreshold:.01,initialSort:null,throttle:L,throttleTime:300,staggerAmount:15,staggerAmountMax:250,useTransforms:!0,filterMode:t.FilterMode.ANY},t.__Point=c,t.__sorter=d,t.__getColumnSpan=A,t.__getAvailablePositions=S,t.__getShortColumn=E,t}),function(e){function t(e,s){if(e=e||"",s=s||{},e instanceof t)return e;if(!(this instanceof t))return new t(e,s);var o=K(e);this._originalInput=e,this._r=o.r,this._g=o.g,this._b=o.b,this._a=o.a,this._roundA=n(100*this._a)/100,this._format=s.format||o.format,this._gradientType=s.gradientType,this._r<1&&(this._r=n(this._r)),this._g<1&&(this._g=n(this._g)),this._b<1&&(this._b=n(this._b)),this._ok=o.ok,this._tc_id=H++}function K(e){var t={r:0,g:0,b:0},n=1,s=null,a=null,u=null,o=!1,i=!1;return"string"==typeof e&&(e=N(e)),"object"==typeof e&&(l(e.r)&&l(e.g)&&l(e.b)?(t=W(e.r,e.g,e.b),o=!0,i="%"===String(e.r).substr(-1)?"prgb":"rgb"):l(e.h)&&l(e.s)&&l(e.v)?(s=d(e.s),a=d(e.v),t=V(e.h,s,a),o=!0,i="hsv"):l(e.h)&&l(e.s)&&l(e.l)&&(s=d(e.s),u=d(e.l),t=$(e.h,s,u),o=!0,i="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=j(n),{ok:o,format:e.format||i,r:c(255,r(t.r,0)),g:c(255,r(t.g,0)),b:c(255,r(t.b,0)),a:n}}function W(e,t,n){return{r:255*s(e,255),g:255*s(t,255),b:255*s(n,255)}}function y(e,t,n){e=s(e,255),t=s(t,255),n=s(n,255);var o,a,d,i=r(e,t,n),l=c(e,t,n),u=(i+l)/2;if(i==l)o=d=0;else{switch(a=i-l,d=u>.5?a/(2-i-l):a/(i+l),i){case e:o=(t-n)/a+(t<n?6:0);break;case t:o=(n-e)/a+2;break;case n:o=(e-t)/a+4}o/=6}return{h:o,s:d,l:u}}function $(e,t,n){function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=s(e,360),t=s(t,100),n=s(n,100),0===t)a=r=c=n;else{var a,r,c,o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;a=i(l,o,e+1/3),r=i(l,o,e),c=i(l,o,e-1/3)}return{r:255*a,g:255*r,b:255*c}}function g(e,t,n){e=s(e,255),t=s(t,255),n=s(n,255);var o,l,i=r(e,t,n),d=c(e,t,n),u=i,a=i-d;if(l=0===i?0:a/i,i==d)o=0;else{switch(i){case e:o=(t-n)/a+(t<n?6:0);break;case t:o=(n-e)/a+2;break;case n:o=(e-t)/a+4}o/=6}return{h:o,s:l,v:u}}function V(t,n,o){t=6*s(t,360),n=s(n,100),o=s(o,100);var l=e.floor(t),d=t-l,i=o*(1-n),a=o*(1-d*n),r=o*(1-(1-d)*n),c=l%6;return{r:255*[o,a,i,i,r,o][c],g:255*[r,o,o,a,i,i][c],b:255*[i,i,r,o,o,a][c]}}function p(e,t,s,o){var i=[a(n(e).toString(16)),a(n(t).toString(16)),a(n(s).toString(16))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function B(e,t,s,o,i){var r=[a(n(e).toString(16)),a(n(t).toString(16)),a(n(s).toString(16)),a(b(o))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function f(e,t,s,o){return[a(b(o)),a(n(e).toString(16)),a(n(t).toString(16)),a(n(s).toString(16))].join("")}function I(e,n){n=0===n?0:n||10;var s=t(e).toHsl();return s.s-=n/100,s.s=u(s.s),t(s)}function _(e,n){n=0===n?0:n||10;var s=t(e).toHsl();return s.s+=n/100,s.s=u(s.s),t(s)}function w(e){return t(e).desaturate(100)}function z(e,n){n=0===n?0:n||10;var s=t(e).toHsl();return s.l+=n/100,s.l=u(s.l),t(s)}function T(e,s){s=0===s?0:s||10;var o=t(e).toRgb();return o.r=r(0,c(255,o.r-n(-s/100*255))),o.g=r(0,c(255,o.g-n(-s/100*255))),o.b=r(0,c(255,o.b-n(-s/100*255))),t(o)}function F(e,n){n=0===n?0:n||10;var s=t(e).toHsl();return s.l-=n/100,s.l=u(s.l),t(s)}function M(e,n){var s=t(e).toHsl(),o=(s.h+n)%360;return s.h=o<0?360+o:o,t(s)}function k(e){var n=t(e).toHsl();return n.h=(n.h+180)%360,t(n)}function E(e){var n=t(e).toHsl(),s=n.h;return[t(e),t({h:(s+120)%360,s:n.s,l:n.l}),t({h:(s+240)%360,s:n.s,l:n.l})]}function C(e){var n=t(e).toHsl(),s=n.h;return[t(e),t({h:(s+90)%360,s:n.s,l:n.l}),t({h:(s+180)%360,s:n.s,l:n.l}),t({h:(s+270)%360,s:n.s,l:n.l})]}function x(e){var n=t(e).toHsl(),s=n.h;return[t(e),t({h:(s+72)%360,s:n.s,l:n.l}),t({h:(s+216)%360,s:n.s,l:n.l})]}function D(e,n,s){n=n||6,s=s||30;var o=t(e).toHsl(),i=360/s,a=[t(e)];for(o.h=(o.h-(i*n>>1)+720)%360;--n;)o.h=(o.h+i)%360,a.push(t(o));return a}function O(e,n){n=n||6;for(var s=t(e).toHsv(),a=s.h,r=s.s,o=s.v,i=[],c=1/n;n--;)i.push(t({h:a,s:r,v:o})),o=(o+c)%1;return i}function j(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function s(t,n){A(t)&&(t="100%");var s=S(t);return t=c(n,r(0,parseFloat(t))),s&&(t=parseInt(t*n,10)/100),e.abs(t-n)<1e-6?1:t%n/parseFloat(n)}function u(e){return c(1,r(0,e))}function o(e){return parseInt(e,16)}function A(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function S(e){return"string"==typeof e&&-1!=e.indexOf("%")}function a(e){return 1==e.length?"0"+e:""+e}function d(e){return e<=1&&(e=100*e+"%"),e}function b(t){return e.round(255*parseFloat(t)).toString(16)}function v(e){return o(e)/255}function l(e){return!!i.CSS_UNIT.exec(e)}function N(e){e=e.replace(R,"").replace(P,"").toLowerCase();var t,n=!1;if(m[e])e=m[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=i.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=i.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=i.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=i.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=i.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=i.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=i.hex8.exec(e))?{r:o(t[1]),g:o(t[2]),b:o(t[3]),a:v(t[4]),format:n?"name":"hex8"}:(t=i.hex6.exec(e))?{r:o(t[1]),g:o(t[2]),b:o(t[3]),format:n?"name":"hex"}:(t=i.hex4.exec(e))?{r:o(t[1]+""+t[1]),g:o(t[2]+""+t[2]),b:o(t[3]+""+t[3]),a:v(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=i.hex3.exec(e))&&{r:o(t[1]+""+t[1]),g:o(t[2]+""+t[2]),b:o(t[3]+""+t[3]),format:n?"name":"hex"}}function L(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}var R=/^\s+/,P=/\s+$/,H=0,n=e.round,c=e.min,r=e.max,h=e.random;t.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var t,n,s,i,a,r,o=this.toRgb();return t=o.r/255,n=o.g/255,s=o.b/255,i=t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4),a=n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4),r=s<=.03928?s/12.92:e.pow((s+.055)/1.055,2.4),.2126*i+.7152*a+.0722*r},setAlpha:function(e){return this._a=j(e),this._roundA=n(100*this._a)/100,this},toHsv:function(){var e=g(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=g(this._r,this._g,this._b),t=n(360*e.h),s=n(100*e.s),o=n(100*e.v);return 1==this._a?"hsv("+t+", "+s+"%, "+o+"%)":"hsva("+t+", "+s+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var e=y(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=y(this._r,this._g,this._b),t=n(360*e.h),s=n(100*e.s),o=n(100*e.l);return 1==this._a?"hsl("+t+", "+s+"%, "+o+"%)":"hsla("+t+", "+s+"%, "+o+"%, "+this._roundA+")"},toHex:function(e){return p(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return B(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:n(this._r),g:n(this._g),b:n(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+n(this._r)+", "+n(this._g)+", "+n(this._b)+")":"rgba("+n(this._r)+", "+n(this._g)+", "+n(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:n(100*s(this._r,255))+"%",g:n(100*s(this._g,255))+"%",b:n(100*s(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+n(100*s(this._r,255))+"%, "+n(100*s(this._g,255))+"%, "+n(100*s(this._b,255))+"%)":"rgba("+n(100*s(this._r,255))+"%, "+n(100*s(this._g,255))+"%, "+n(100*s(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(U[p(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var n,s="#"+f(this._r,this._g,this._b,this._a),o=s,i=this._gradientType?"GradientType = 1, ":"";return e&&(n=t(e),o="#"+f(n._r,n._g,n._b,n._a)),"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+s+",endColorstr="+o+")"},toString:function(e){n=!!e,e=e||this._format;var n,t=!1,s=this._a<1&&this._a>=0;return n||!s||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(t=this.toRgbString()),"prgb"===e&&(t=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(t=this.toHexString()),"hex3"===e&&(t=this.toHexString(!0)),"hex4"===e&&(t=this.toHex8String(!0)),"hex8"===e&&(t=this.toHex8String()),"name"===e&&(t=this.toName()),"hsl"===e&&(t=this.toHslString()),"hsv"===e&&(t=this.toHsvString()),t||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return t(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(z,arguments)},brighten:function(){return this._applyModification(T,arguments)},darken:function(){return this._applyModification(F,arguments)},desaturate:function(){return this._applyModification(I,arguments)},saturate:function(){return this._applyModification(_,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(M,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(D,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(O,arguments)},splitcomplement:function(){return this._applyCombination(x,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(C,arguments)}},t.fromRatio=function(e,n){if("object"==typeof e){var s,o={};for(s in e)e.hasOwnProperty(s)&&(o[s]="a"===s?e[s]:d(e[s]));e=o}return t(e,n)},t.equals=function(e,n){return!!e&&!!n&&t(e).toRgbString()==t(n).toRgbString()},t.random=function(){return t.fromRatio({r:h(),g:h(),b:h()})},t.mix=function(e,n,s){s=0===s?0:s||50;var o=t(e).toRgb(),i=t(n).toRgb(),a=s/100;return t({r:(i.r-o.r)*a+o.r,g:(i.g-o.g)*a+o.g,b:(i.b-o.b)*a+o.b,a:(i.a-o.a)*a+o.a})},t.readability=function(n,s){var o=t(n),i=t(s);return(e.max(o.getLuminance(),i.getLuminance())+.05)/(e.min(o.getLuminance(),i.getLuminance())+.05)},t.isReadable=function(e,n,s){var o,i,a=t.readability(e,n);switch(o=!1,i=L(s),i.level+i.size){case"AAsmall":case"AAAlarge":o=a>=4.5;break;case"AAlarge":o=a>=3;break;case"AAAsmall":o=a>=7}return o},t.mostReadable=function(e,n,s){var o,a,r,c,l,i=null,d=0;s=s||{},r=s.includeFallbackColors,c=s.level,l=s.size;for(o=0;o<n.length;o++)(a=t.readability(e,n[o]))>d&&(d=a,i=t(n[o]));return t.isReadable(e,i,{level:c,size:l})||!r?i:(s.includeFallbackColors=!1,t.mostReadable(e,["#fff","#000"],s))};var m=t.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},U=t.hexNames=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}(m),i=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd?define(function(){return t}):window.tinycolor=t}(Math),String.prototype.hashCode=function(){var e=5381;for(i=0;i<this.length;i++)char=this.charCodeAt(i),e=(e<<5)+e+char;return e>>>0};var Color=tinycolor,Shuffle=window.shuffle,shuffle=new Shuffle(document.querySelector(".tile-container"),{group:shuffle.ALL_ITEMS,itemSelector:".tile",gutterWidth:16,columnWidth:188,buffer:1,delimeter:",",useTransforms:!1}),filterTiles=function(){shuffle.filter(location.hash.slice(1))};displaySection=function(){const s=document.querySelectorAll(".section");s.forEach(e=>{e.style.display="none"});const n=location.hash.slice(1),t=document.getElementById(n);if(n===""){const e=document.getElementById("header-subtitle");e.style.display=e.style.display==="none"?"block":"none",e.classList.remove("fade-in","two")}else t&&(t.style.display=t.style.display==="none"?"block":"none")},changeTileColors=function(){const e=document.querySelectorAll("a.shuffle-item--visible");e.forEach(e=>{const t=e.querySelector(".tile-box");if(t){const e=t.className.split(" ");e.forEach(e=>{e.startsWith("highlight-")&&t.classList.remove(e)}),t.classList.add(`highlight-${location.hash.slice(1).charAt(0).toUpperCase()+location.hash.slice(1).slice(1)}`)}})},window.onhashchange=function(){filterTiles(),displaySection(),(location.hash.slice(1)==="initiatives"||location.hash.slice(1)==="resources"||location.hash.slice(1)==="documentation"||location.hash.slice(1)==="software")&&changeTileColors()};var getUrlParts=function(e){var t={domain:"",before:"",after:""},a=new URL(e),s=a.host;if(t.domain=s.replace(/^www\./i,""),s.match(/^\d+\.\d+\.\d+\.\d+$/))return t.domain=s,t;if(s.match(/^(\d+\.\d+\.\d+\.\d+)(:(\d+))?$/))return n=s.match(/^(\d+\.\d+\.\d+\.\d+)(:(\d+))?$/),t.domain=n[1],t.after=n[3],t;for(var n=t.domain.split("."),o=0,i=1;i<n.length-1;i++)n[i].length>n[o].length&&(o=i);return t.domain=n[o],t.before=n.slice(0,o).join("."),t.after=n.slice(o+1).join("."),!t.domain&&a.pathname&&(t.domain=a.pathname.split("/").filter(Boolean).pop()),t},fitText=function(e,t,n){var o,i,s=document.createElement("div");for(s.style.visibility="hidden",s.style.position="absolute",s.style.width=t+"px",s.style.height=n+"px",s.style.overflow="hidden",document.body.appendChild(s),o=40,s.style.fontSize=o+"px",s.innerHTML=e;o>0&&(s.scrollWidth>t||s.scrollHeight>n);)o-=1,s.style.fontSize=o+"px";return i={size:o,width:s.scrollWidth,height:s.scrollHeight},s.remove(),i},getTileColor=function(e){var t=["#B42424","#C83D1D","#BB7231","#E06B00","#55931F","#1C941B","#189365","#189196","#2D85A4","#2B6C90","#205396","#39448F","#55338E","#683089","#963A97","#A43343","#982F2F","#D30000","#E54C29","#DA7E2C","#73B43A","#3AB43A","#3AB487","#3AB0B4","#47A6C7","#3A88B4","#3A6FB4","#3A4AB4","#673AB4","#863AB4","#C846C9","#C44A5B","#AA4444","#E84545","#FF6946","#EC9344","#3CA4DF","#3A83E3","#4056E3","#9058F0","#B467E2","#DF7CDF","#E5576B","#D35A5A","#3DC53D","#2DBBB1","#5E95D5","#5E5BE7","#1B7EFF","#5F74FF","#8A45FF","#B856F3","#DD66DD"];return t[e.hashCode()%t.length]},renderImgTile=function(e){e.innerHTML="";var t=new Image,n=e.getAttribute("data-title");t.src=e.getAttribute("data-img"),t.className="logo",t.alt="logo for "+n,e.appendChild(t)},renderPlainTile=function(e){o=getUrlParts(e.getAttribute("data-url")),e.innerHTML="",t=e.getAttribute("data-bg-color"),t||(t="rgba(255,255,255,.8)"),t=Color(t),t.setAlpha(.8),e.style.backgroundColor=t,s=e.getAttribute("data-txt-color"),s||(s=getTileColor(o.domain),t.isDark()&&(e.style.color="white")),s=Color(s),e.style.color=s;var t,s,o,i,a,r,c=fitText(e.getAttribute("data-title"),172,120),n=document.createElement("div");n.style.fontSize=c.size+"px",e.appendChild(n),i=document.createElement("div"),i.innerHTML=n.appendChild(document.createTextNode(e.getAttribute("data-title"))),a=64-n.clientHeight/2,r=106-n.clientWidth/2,n.style.top=a,n.style.left=r},renderTiles=function(){for(var t=document.getElementsByClassName("tile-box"),e=0;e<t.length;e++)try{t.item(e).getAttribute("data-img")?renderImgTile(t.item(e)):renderPlainTile(t.item(e))}catch(e){console.log("err:"+e)}};renderTiles();var getBackgroundImages=function(){var n=document.getElementsByTagName("body"),e=[],t=n[0].getAttribute("data-backgrounds");return t&&(e=t.split(/[\s,]+/).filter(Boolean)),e},preloadBackgrounds=function(){for(var t=getBackgroundImages(),e=0;e<t.length;e++)(new Image).src=t[e]},rotateBackground=function(e){e!=null||(e=0);var t=getBackgroundImages();t.length>0&&(e=(e+1)%t.length,document.body.style.background='url("'+t[e]+'")',document.body.style.backgroundSize="cover",t.length>1&&setTimeout(rotateBackground.bind(null,e),3e4))};preloadBackgrounds(),rotateBackground()